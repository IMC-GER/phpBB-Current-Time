{#
 * Current Time
 * An extension for the phpBB Forum Software package.
 *
 * @copyright (c) 2024, Thorsten Ahlers
 * @license GNU General Public License, version 2 (GPL-2.0)
 *
 #}

{% INCLUDEJS '@imcger_currenttime/timezone.js' %}
{% INCLUDECSS '@imcger_currenttime/ctwc_all.css' %}
{% import '@imcger_currenttime/twig_macros.html' as common %}
{% set switch_type = TOGGLECTRL_CT ?? TOGGLECTRL_TYPE ?? 'toggle' %}

		{% if S_CTWC_ACP_USER_PREFS is defined %}<a id="ctwc_prefs" class="anchor"></a>{% endif %}
		<fieldset>
			{% if S_CTWC_ACP_USER_PREFS is defined %}<legend>{{ lang( 'UCP_CT_MODULE_WORLDCLOCK' ) }}</legend>{% endif %}
			<dl>
				<dt>
					<label for="ctwc_wclock_disp_0">{{ lang('CTWC_WORLDCLOCK_1') ~ lang('COLON') }}</label><br>
					<span>{{ lang('CTWC_WORLDCLOCK_EXP') }}</span>
				</dt>
				<dd>
					{{ common.switch('ctwc_wclock_disp_0', CTWC_WCLOCK_DISP_0, switch_type) }}
				</dd>
				{% if ctwc0_timezone_date %}
				<dd>
					<select name="ctwc_tz_date_0" class="ctwc-tz-select ctwc-tz-date">
						<option value="">{{ lang('SELECT_CURRENT_TIME') }}</option>
						{% for timezone_date in ctwc0_timezone_date %}
							<option value="{{ timezone_date.VALUE }}"{% if timezone_date.SELECTED %} selected{% endif %}>{{ timezone_date.TITLE }}</option>
						{% endfor %}
					</select>
				</dd>
				{% endif %}
				<dd>
					<select name="ctwc_tz_0" class="ctwc-tz-select">
						<option value="">{{ lang('SELECT_TIMEZONE') }}</option>
						{% for timezone_select in ctwc0_timezone_select %}
						<optgroup label="{{ timezone_select.LABEL }}" data-tz-value="{{ timezone_select.VALUE }}">
							{% for option in timezone_select.timezone_options %}
							<option title="{{ option.TITLE }}" value="{{ option.VALUE }}"{% if option.SELECTED %} selected{% endif %}>{{ option.LABEL }}</option>
							{% endfor %}
						</optgroup>
						{% endfor %}
					</select>
				</dd>
			</dl>
			<dl>
				<dt>
					<label for="ctwc_tz_city_0">{{ lang('CTWC_TZ_CITY') ~ lang('COLON') }}</label><br>
					<span>{{ lang('CTWC_TZ_CITY_EXP') }}</span>
				</dt>
				<dd>
					{{ common.text('ctwc_tz_city_0', CTWC_TZ_CITY_0, 20) }}
				</dd>
			</dl>
			<hr>
			<dl>
				<dt>
					<label for="ctwc_wclock_disp_1">{{ lang('CTWC_WORLDCLOCK_2') ~ lang('COLON') }}</label><br>
					<span>{{ lang('CTWC_WORLDCLOCK_EXP') }}</span>
				</dt>
				<dd>
					{{ common.switch('ctwc_wclock_disp_1', CTWC_WCLOCK_DISP_1, switch_type) }}
				</dd>
				{% if ctwc1_timezone_date %}
				<dd>
					<select name="ctwc_tz_date_1" class="ctwc-tz-select ctwc-tz-date">
						<option value="">{{ lang('SELECT_CURRENT_TIME') }}</option>
						{% for timezone_date in ctwc1_timezone_date %}
							<option value="{{ timezone_date.VALUE }}"{% if timezone_date.SELECTED %} selected{% endif %}>{{ timezone_date.TITLE }}</option>
						{% endfor %}
					</select>
				</dd>
				{% endif %}
				<dd>
					<select name="ctwc_tz_1" class="ctwc-tz-select">
						<option value="">{{ lang('SELECT_TIMEZONE') }}</option>
						{% for timezone_select in ctwc1_timezone_select %}
						<optgroup label="{{ timezone_select.LABEL }}" data-tz-value="{{ timezone_select.VALUE }}">
							{% for option in timezone_select.timezone_options %}
							<option title="{{ option.TITLE }}" value="{{ option.VALUE }}"{% if option.SELECTED %} selected{% endif %}>{{ option.LABEL }}</option>
							{% endfor %}
						</optgroup>
						{% endfor %}
					</select>
				</dd>
			</dl>
			<dl>
				<dt>
					<label for="ctwc_tz_city_1">{{ lang('CTWC_TZ_CITY') ~ lang('COLON') }}</label><br>
					<span>{{ lang('CTWC_TZ_CITY_EXP') }}</span>
				</dt>
				<dd>
					{{ common.text('ctwc_tz_city_1', CTWC_TZ_CITY_1, 20) }}
				</dd>
			</dl>
			<hr>
			<dl>
				<dt>
					<label for="ctwc_wclock_disp_2">{{ lang('CTWC_WORLDCLOCK_3') ~ lang('COLON') }}</label><br>
					<span>{{ lang('CTWC_WORLDCLOCK_EXP') }}</span>
				</dt>
				<dd>
					{{ common.switch('ctwc_wclock_disp_2', CTWC_WCLOCK_DISP_2, switch_type) }}
				</dd>
				{% if ctwc2_timezone_date %}
				<dd>
					<select name="ctwc_tz_date_2" class="ctwc-tz-select ctwc-tz-date">
						<option value="">{{ lang('SELECT_CURRENT_TIME') }}</option>
						{% for timezone_date in ctwc2_timezone_date %}
							<option value="{{ timezone_date.VALUE }}"{% if timezone_date.SELECTED %} selected{% endif %}>{{ timezone_date.TITLE }}</option>
						{% endfor %}
					</select>
				</dd>
				{% endif %}
				<dd>
					<select name="ctwc_tz_2" class="ctwc-tz-select">
						<option value="">{{ lang('SELECT_TIMEZONE') }}</option>
						{% for timezone_select in ctwc2_timezone_select %}
						<optgroup label="{{ timezone_select.LABEL }}" data-tz-value="{{ timezone_select.VALUE }}">
							{% for option in timezone_select.timezone_options %}
							<option title="{{ option.TITLE }}" value="{{ option.VALUE }}"{% if option.SELECTED %} selected{% endif %}>{{ option.LABEL }}</option>
							{% endfor %}
						</optgroup>
						{% endfor %}
					</select>
				</dd>
			</dl>
			<dl>
				<dt>
					<label for="ctwc_tz_city_2">{{ lang('CTWC_TZ_CITY') ~ lang('COLON') }}</label><br>
					<span>{{ lang('CTWC_TZ_CITY_EXP') }}</span>
				</dt>
				<dd>
					{{ common.text('ctwc_tz_city_2', CTWC_TZ_CITY_2, 20) }}
				</dd>
			</dl>
			<hr>
			<dl>
				<dt>
					<label for="ctwc_wclock_disp_3">{{ lang('CTWC_WORLDCLOCK_4') ~ lang('COLON') }}</label><br>
					<span>{{ lang('CTWC_WORLDCLOCK_EXP') }}</span>
				</dt>
				<dd>
					{{ common.switch('ctwc_wclock_disp_3', CTWC_WCLOCK_DISP_3, switch_type) }}
				</dd>
				{% if ctwc3_timezone_date %}
				<dd>
					<select name="ctwc_tz_date_3" class="ctwc-tz-select ctwc-tz-date">
						<option value="">{{ lang('SELECT_CURRENT_TIME') }}</option>
						{% for timezone_date in ctwc3_timezone_date %}
							<option value="{{ timezone_date.VALUE }}"{% if timezone_date.SELECTED %} selected{% endif %}>{{ timezone_date.TITLE }}</option>
						{% endfor %}
					</select>
				</dd>
				{% endif %}
				<dd>
					<select name="ctwc_tz_3" class="ctwc-tz-select">
						<option value="">{{ lang('SELECT_TIMEZONE') }}</option>
						{% for timezone_select in ctwc3_timezone_select %}
						<optgroup label="{{ timezone_select.LABEL }}" data-tz-value="{{ timezone_select.VALUE }}">
							{% for option in timezone_select.timezone_options %}
							<option title="{{ option.TITLE }}" value="{{ option.VALUE }}"{% if option.SELECTED %} selected{% endif %}>{{ option.LABEL }}</option>
							{% endfor %}
						</optgroup>
						{% endfor %}
					</select>
				</dd>
			</dl>
			<dl>
				<dt>
					<label for="ctwc_tz_city_3">{{ lang('CTWC_TZ_CITY') ~ lang('COLON') }}</label><br>
					<span>{{ lang('CTWC_TZ_CITY_EXP') }}</span>
				</dt>
				<dd>
					{{ common.text('ctwc_tz_city_3', CTWC_TZ_CITY_3, 20) }}
				</dd>
			</dl>
			<hr>
			<dl>
				<dt>
					<label for="ctwc_wclock_disp_4">{{ lang('CTWC_WORLDCLOCK_5') ~ lang('COLON') }}</label><br>
					<span>{{ lang('CTWC_WORLDCLOCK_EXP') }}</span>
				</dt>
				<dd>
					{{ common.switch('ctwc_wclock_disp_4', CTWC_WCLOCK_DISP_4, switch_type) }}
				</dd>
				{% if ctwc4_timezone_date %}
				<dd>
					<select name="ctwc_tz_date_4" class="ctwc-tz-select ctwc-tz-date">
						<option value="">{{ lang('SELECT_CURRENT_TIME') }}</option>
						{% for timezone_date in ctwc4_timezone_date %}
							<option value="{{ timezone_date.VALUE }}"{% if timezone_date.SELECTED %} selected{% endif %}>{{ timezone_date.TITLE }}</option>
						{% endfor %}
					</select>
				</dd>
				{% endif %}
				<dd>
					<select name="ctwc_tz_4" class="ctwc-tz-select">
						<option value="">{{ lang('SELECT_TIMEZONE') }}</option>
						{% for timezone_select in ctwc4_timezone_select %}
						<optgroup label="{{ timezone_select.LABEL }}" data-tz-value="{{ timezone_select.VALUE }}">
							{% for option in timezone_select.timezone_options %}
							<option title="{{ option.TITLE }}" value="{{ option.VALUE }}"{% if option.SELECTED %} selected{% endif %}>{{ option.LABEL }}</option>
							{% endfor %}
						</optgroup>
						{% endfor %}
					</select>
				</dd>
			</dl>
			<dl>
				<dt>
					<label for="ctwc_tz_city_4">{{ lang('CTWC_TZ_CITY') ~ lang('COLON') }}</label><br>
					<span>{{ lang('CTWC_TZ_CITY_EXP') }}</span>
				</dt>
				<dd>
					{{ common.text('ctwc_tz_city_4', CTWC_TZ_CITY_4, 20) }}
				</dd>
			</dl>
			<hr>
			<dl>
				<dt>
					<label for="ctwc_wclock_disp_5">{{ lang('CTWC_WORLDCLOCK_6') ~ lang('COLON') }}</label><br>
					<span>{{ lang('CTWC_WORLDCLOCK_EXP') }}</span>
				</dt>
				<dd>
					{{ common.switch('ctwc_wclock_disp_5', CTWC_WCLOCK_DISP_5, switch_type) }}
				</dd>
				{% if ctwc4_timezone_date %}
				<dd>
					<select name="ctwc_tz_date_5" class="ctwc-tz-select ctwc-tz-date">
						<option value="">{{ lang('SELECT_CURRENT_TIME') }}</option>
						{% for timezone_date in ctwc5_timezone_date %}
							<option value="{{ timezone_date.VALUE }}"{% if timezone_date.SELECTED %} selected{% endif %}>{{ timezone_date.TITLE }}</option>
						{% endfor %}
					</select>
				</dd>
				{% endif %}
				<dd>
					<select name="ctwc_tz_5" class="ctwc-tz-select">
						<option value="">{{ lang('SELECT_TIMEZONE') }}</option>
						{% for timezone_select in ctwc5_timezone_select %}
						<optgroup label="{{ timezone_select.LABEL }}" data-tz-value="{{ timezone_select.VALUE }}">
							{% for option in timezone_select.timezone_options %}
							<option title="{{ option.TITLE }}" value="{{ option.VALUE }}"{% if option.SELECTED %} selected{% endif %}>{{ option.LABEL }}</option>
							{% endfor %}
						</optgroup>
						{% endfor %}
					</select>
				</dd>
			</dl>
			<dl>
				<dt>
					<label for="ctwc_tz_city_5">{{ lang('CTWC_TZ_CITY') ~ lang('COLON') }}</label><br>
					<span>{{ lang('CTWC_TZ_CITY_EXP') }}</span>
				</dt>
				<dd>
					{{ common.text('ctwc_tz_city_5', CTWC_TZ_CITY_5, 20) }}
				</dd>
			</dl>
			<hr>
			<dl>
				<dt>
					<label for="ctwc_wclock_format">{{ lang('CTWC_WCLOCK_FORMAT') ~ lang('COLON') }}</label><br>
					<span>{{ lang('BOARD_DATE_FORMAT_EXPLAIN') }}</span>
					<span>{{ lang('CTWC_WCLOCK_FORMAT_EXP') }}</span>
				</dt>
				<dd>
					{{ common.select('ctwc_wclock_dateformats', CTWC_WCLOCK_DATEFORMATS) }}
				</dd>
				<dd>
					{{ common.text('ctwc_wclock_format', CTWC_WCLOCK_FORMAT, 20) }}
				</dd>
			</dl>
			<dl>
				<dt>
					<label for="ctwc_wclock_lines">{{ lang('CTWC_WCLOCK_LINES') ~ lang('COLON') }}</label><br>
				</dt>
				<dd>
					{{ common.select('ctwc_wclock_lines', CTWC_WCLOCK_LINES) }}
				</dd>
			</dl>
		</fieldset>
		<div id="ctwc_timezone"></div>
